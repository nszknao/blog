---
title: "Blenderã§ä½œæˆã—ãŸ3Dãƒ¢ãƒ‡ãƒ«ã‚’Three.jsã§è¡¨ç¤ºã™ã‚‹"
emoji: "ğŸ”³"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢è¨˜äº‹
topics: ["react", "typescript", "threejs"]
published: false
---
ã“ã‚“ã«ã¡ã¯ã€ã«ã—ã–ã‹ã§ã™ã€‚
æ™®æ®µã¯Webã®ã‚¤ãƒ³ãƒ•ãƒ©ã‹ã‚‰ãƒ•ãƒ­ãƒ³ãƒˆã¾ã§è–„ãåºƒãé–‹ç™ºã—ã¦ã„ã¾ã™ã€‚ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ã§ããªã„ã§ã™ã€‚

å…ˆæ—¥ã€ã“ã‚“ãªé¢ç™½ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚
https://oncyber.io/

è‡ªåˆ†ã ã‘ã®ã‚®ãƒ£ãƒ©ãƒªãƒ¼ç©ºé–“ã‚’ä½œæˆã—ã¦ã€æ‰€æœ‰ã—ã¦ã„ã‚‹NFTã‚’å±•ç¤ºã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚3Dç©ºé–“ã‚’ã†ã‚ã†ã‚æ­©ãå›ã‚ŠãªãŒã‚‰å±•ç¤ºã•ã‚Œã¦ã„ã‚‹NFTã‚¢ãƒ¼ãƒˆã‚’é‘‘è³ã§ãã€è³¼å…¥ã™ã‚‹ãŸã‚ã®OpenSeaã¸ã®å°ç·šãŒè²¼ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

æœ€è¿‘ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚²ãƒ¼ãƒ ãªã©ã§ã¯å½“ãŸã‚Šå‰ã®ä½“é¨“ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã“ã“ã¾ã§ã‚¹ãƒ ãƒ¼ã‚ºã«å‹•ã‹ã›ã‚‹ã®ã¯å€‹äººçš„ã«é©šãã§ã—ãŸã€‚ä½µã›ã¦ã€Œï¼ˆBlenderãªã©ã§ä½œã‚Šè¾¼ã¾ã‚ŒãŸ3Dãƒ¢ãƒ‡ãƒ«ã•ãˆã‚ã‚Œã°â†å¤§äº‹ï¼‰è‡ªåˆ†ã§ã‚‚ä¼¼ãŸã‚ˆã†ãªã‚‚ã®ã‚’ä½œã‚Œã‚‹ã®ã§ã¯ï¼Ÿã€ã¨æ€ã£ãŸã®ã§ã€å¿…è¦ãªæŠ€è¡“è¦ç´ å«ã‚ã¦èª¿ã¹ãªãŒã‚‰ä½œã£ã¦ã¿ã¾ã™ã€‚

ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§3Dç©ºé–“å†…ã‚’ã†ã‚ã†ã‚æ­©ãå›ã‚‹ã¨ã“ã‚ã¾ã§æ‰±ã„ã¾ã™ã€‚ãƒ¢ãƒã‚¤ãƒ«ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¾ã§å¯¾å¿œã§ããŸã‚‰å¬‰ã—ã„ã€‚ï¼ˆTODOï¼‰
ï¼ˆTODO: å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰

ãªã®ã§NFTã®å±•ç¤ºã«å¿…è¦ãªå„ç¨®Walletã¨ã®é€£æºãªã©ã¯å¯¾è±¡å¤–ã§ã™ã€‚

ã¾ãŸå½“æ–¹ã€3Dãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã‚„WebGLã¯ã©ç´ äººã®çŠ¶æ…‹ã§ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã®ã§ã€ãƒã‚·ãƒ¥ãƒãƒ­å¤§æ­“è¿ã§ã™ï¼ï¼ˆãƒã‚µã‚«ãƒªã¯ï¾ï½®ï½¯ï¾„ï½ºï¾œï½²ï¼‰
æ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹ã¯å­˜åœ¨ã—ã¾ã™ãŒã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã®è»Šè¼ªã‚’å†é–‹ç™ºã—ã‚ˆã†ã¨ã„ã†æ°—æ¦‚ã§ã‚„ã£ã¦ã„ãã€‚

# äº‹å‰æº–å‚™
## å‰æ
### æƒ³å®šèª­è€…
- WebGLã«èˆˆå‘³ãŒã‚ã‚‹äºº
- Three.jsã‚’è§¦ã£ã¦ã¿ãŸã„äºº

### ä½¿ç”¨ã™ã‚‹æŠ€è¡“ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- Next.js
- Three.js (react-three-fiber)

## ç’°å¢ƒæ§‹ç¯‰
react-three-fiberã¯deprecatedãªã®ã§æ³¨æ„ã€‚
```bash
yarn create next-app --typescript
yarn add three @react-three/fiber
```

# å®Ÿè£…
[ã‚³ãƒ¼ãƒ‰](https://github.com/nszknao/try-threejs)

## ã¾ãšã¯å…¬å¼ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
react-three-fiberã®æœ€åˆã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å†™çµŒã—ã¾ã™ã€‚
https://docs.pmnd.rs/react-three-fiber/tutorials/events-and-interaction

å›è»¢ã™ã‚‹ç«‹æ–¹ä½“ãŒè¡¨ç¤ºã•ã‚Œã€ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ‹¡å¤§ãƒ»ç¸®å°ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚

```js:EventsAndInteraction.tsx
import React, { useRef, useState, VFC } from "react";
import { Canvas, MeshProps, useFrame } from "@react-three/fiber";

const MyRotatingBox: VFC = () => {
  const myMesh = useRef<MeshProps>();
  const [active, setActive] = useState(false);

  useFrame(({ clock }) => {
    const a = clock.getElapsedTime();
    if (myMesh.current === undefined) return;
    myMesh.current.rotation.x = a;
  });

  return (
    <mesh
      scale={active ? 1.5 : 1}
      onClick={() => setActive(!active)}
      ref={myMesh}
    >
      <boxBufferGeometry />
      <meshPhongMaterial color="royalblue" />
    </mesh>
  );
};

export const EventsAndInteraction: VFC = () => {
  return (
    <Canvas>
      <MyRotatingBox />
      <ambientLight intensity={0.1} />
      <directionalLight />
    </Canvas>
  );
};
```

## 3Dç©ºé–“ã‚’ã†ã‚ã†ã‚æ­©ã„ã¦ã¿ã‚‹
å‚è€ƒã«ã—ãŸã®ã¯Three.jsã®å…¬å¼ã‚µãƒ³ãƒ—ãƒ«ã€‚
https://threejs.org/examples/misc_controls_pointerlock.html

```js:PointerLock.tsx
```